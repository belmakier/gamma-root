<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GamR: About the Event Tree</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../gamr.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GamR
   &#160;<span id="projectnumber">0.0.0</span>
   </div>
   <div id="projectbrief">GammaROOT</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d0/d38/tree.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">About the Event Tree </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#tevent_tedetector">Event and Detector objects</a></li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md_docs_md_tree_tree"></a></p>
<p >One of the foundations of GamROOT is the event tree. It was designed to reduce duplication of code, minimize the effort to write complex sorts, and provide a standard, familiar form of data analysis regardless of the experiment. GamROOT is heavily object oriented (and makes no apology) and the GamROOT event tree is no exception. As ~100% of physicists I've met (initially) have strong negative feelings towards object orientatied programming, here I explain the objects contained in the event tree and their rather intuitive link to reality. To first order, just think of objects as containers.</p>
<h1><a class="anchor" id="tevent_tedetector"></a>
Event and Detector objects</h1>
<p >Firstly, any experiment involves taking data. These datums are often associated with a detector. It's possible that multiple datums are associated with a single detector. In nuclear physics, it's common to have an array of detectors; some of these are identical and may be logically grouped. Finally, a coincidence event may be constructed where any combination of your available detectors may have fired. Thus we express our <a class="el" href="../../da/d95/class_gam_r_1_1_tree_1_1_t_event.html">GamR::Tree::TEvent</a> as a container of groups of detectors and the detectors contain the measurements:</p>
<ul>
<li><a class="el" href="../../da/d95/class_gam_r_1_1_tree_1_1_t_event.html">GamR::Tree::TEvent</a><ul>
<li><a class="el" href="../../dd/d16/class_gam_r_1_1_tree_1_1_t_detector.html">GamR::Tree::TDetector</a> (Group 1)<ul>
<li>e.g. contains: UShort_t, UShort_t</li>
</ul>
</li>
<li><a class="el" href="../../dd/d16/class_gam_r_1_1_tree_1_1_t_detector.html">GamR::Tree::TDetector</a> (Group 2)<ul>
<li>also contains: UShort_t, UShort_t but physically different</li>
</ul>
</li>
<li>.....</li>
<li><a class="el" href="../../dd/d16/class_gam_r_1_1_tree_1_1_t_detector.html">GamR::Tree::TDetector</a> (Group N)<ul>
<li>UChar_t, Char_t, ..., any number of basic data types less than 64 bits long.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p >Above represents the abstract structure of every GamROOT Event Tree. However, as C++ is a strongly typed language &ndash; and in order to serialize to and from disk and memory safely &ndash; specializations must be made i.e. explicitly defining the data types (detectors are also datatypes, just composite ones) backing all these containers. Consider the following experiment, you have an array where you have 3 logical groups. Group 1 contains detectors with 2 unsigned long integers and 1 float, Group 2 contains detectors that have 2 unsigned shorts, and Group 3 detectors with 1 integer. The corresponding GamROOT Event Tree would contain the following types:</p>
<div class="fragment"><div class="line"><span class="comment">// Detectors</span></div>
<div class="line"><span class="keyword">using</span> MyEvent_TDetector0 = <a class="code hl_class" href="../../dd/d16/class_gam_r_1_1_tree_1_1_t_detector.html">GamR::Tree::TDetector&lt;ULong64_t, ULong64_t, Float_t&gt;</a>; <span class="comment">// Detector type for Group 1;</span></div>
<div class="line"><span class="keyword">using</span> MyEvent_TDetector1 = <a class="code hl_class" href="../../dd/d16/class_gam_r_1_1_tree_1_1_t_detector.html">GamR::Tree::TDetector&lt;UShort_t, UShort_t&gt;</a>;            <span class="comment">// Detector type for Group 2;</span></div>
<div class="line"><span class="keyword">using</span> MyEvent_TDetector2 = <a class="code hl_class" href="../../dd/d16/class_gam_r_1_1_tree_1_1_t_detector.html">GamR::Tree::TDetector&lt;Int_t&gt;</a>;                         <span class="comment">// Detector type for Group 3;</span></div>
<div class="line"><span class="comment">// Event</span></div>
<div class="line"><span class="keyword">using</span> MyEvent_TEvent = <a class="code hl_class" href="../../da/d95/class_gam_r_1_1_tree_1_1_t_event.html">GamR::Tree::TEvent&lt;MyEvent_TDetector0, MyEvent_TDetector1, MyEvent_TDetector2&gt;</a>;</div>
<div class="ttc" id="aclass_gam_r_1_1_tree_1_1_t_detector_html"><div class="ttname"><a href="../../dd/d16/class_gam_r_1_1_tree_1_1_t_detector.html">GamR::Tree::TDetector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/_detector_8hh_source.html#l00018">Detector.hh:18</a></div></div>
<div class="ttc" id="aclass_gam_r_1_1_tree_1_1_t_event_html"><div class="ttname"><a href="../../da/d95/class_gam_r_1_1_tree_1_1_t_event.html">GamR::Tree::TEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d53/_event_8hh_source.html#l00019">Event.hh:19</a></div></div>
</div><!-- fragment --><p >In general all that matters is that the template arguments of any <a class="el" href="../../dd/d16/class_gam_r_1_1_tree_1_1_t_detector.html">GamR::Tree::TDetector</a> are basic data types, and the template arguments of <a class="el" href="../../da/d95/class_gam_r_1_1_tree_1_1_t_event.html">GamR::Tree::TEvent</a> are made of these detectors. Utilizing templates enables us to enforce a rigid abstract form that collaborators can get familiar with but still have the flexibility to support arbitrarily large detector arrays and complex tagging, all with a single code base.</p>
<div class="image">
<object type="image/svg+xml" data="../../gamrtree_event.svg" style="pointer-events: none;"></object>
<div class="caption">
Diagram of a specialization of the GamROOT Event Tree. In this specialization, the first group are some detectors with 3 measurements, the second 2, and the third 1. In general, a GamR::Tree::TEvent contains any number of vectors of any specialization of GamR::Tree::TDetector. The vectors are dynamically sized and only contain the detectors that have fired for that event. The detector objects contain an ID, raw datums, calibrated measurements, and an efficiency.</div></div>
    </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Feb 23 2022 21:24:58 for GamR by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
